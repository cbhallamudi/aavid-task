<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Stocks</title>
	<link rel="stylesheet" href="./css/main_styles.css">
	<script type="text/javascript" src="./js/custom_js.js"></script>
</head>
<body>
	<header>
		<h1>stocks</h1>
		<div class = "icons">
			<div class = "notification">
	  			<a href = "#">
	  				<div class = "notBtn" href = "#">
	    				<div class = "number">3</div>
	    				<img class="fas" src="./images/36238.png" alt="">
	      				<div class = "box">
	        				<div class = "display">
	          					<div class = "nothing"> 
	            					<i class="fas fa-child stick"></i> 
	            					<div class = "cent">No Notifications</div>
	          					</div>
	          					<div class = "cont">
	             					<div class = "sec new">
	               						<a href = "#">
	               							<div class = "div_content_notification">
	                							<p class = "prof-main-txt"><img class = "" src = "./images/1633249.png">This notification is marked unread</p>
	                							<p class = "prof-sub-txt">11/7/2021 - 2:30 pm</p>
	                						</div>
	               						</a>
	            					</div>
	            					<div class = "sec new">
	               						<a href = "#">
	               							<div class = "div_content_notification">
	                							<p class = "prof-main-txt"><img class = "" src = "./images/1633249.png">This notification is marked unread</p>
	                							<p class = "prof-sub-txt">12/7/2021 - 2:00 am</p>
	                						</div>
	               						</a>
	            					</div>
	            					<div class = "sec">
	               						<a href = "#">
	               							<div class = "div_content_notification">
	                							<p class = "prof-main-txt"><img class = "" src = "./images/1633249.png">This notification is marked read</p>
	                							<p class = "prof-sub-txt">24/7/2021 - 6:30 pm</p>
	                						</div>
	               						</a>
	            					</div>
	            					<div class = "sec new">
	               						<a href = "#">
	               							<div class = "div_content_notification">
	                							<p class = "prof-main-txt"><img class = "" src = "./images/1633249.png">This notification is marked unread</p>
	                							<p class = "prof-sub-txt">25/7/2021 - 7:30 am</p>
	                						</div>
	               						</a>
	            					</div>
	             					
	         					</div>
	        				</div>
	     				</div>
	  				</div>
	    		</a>
			</div>
			<a href = "#"><img class="fas" src="./images/1633249.png" alt=""></a>
			<a href = "#" onclick="addWidgetDropdown()" class="add-widget-dropdown" id="dropbtn">
				<img class="fas" src="./images/1970474.png" alt="">
			</a>
				<div class="add-widget-dropdown-content" id="myDropdown">
				  <a href="#" id="" onclick="addToCurrentTab('quote-widget')">quote-widget</a>
				  <a href="#" id="" onclick="addToCurrentTab('order-widget')">order-widget</a>
				  <a href="#" id="" onclick="addToCurrentTab('chart-widget')">chart-widget</a>
				  <a href="#" id="" onclick="addToCurrentTab('position-widget')">position-widget</a>
				 </div>
		</div>
	</header>
	<section id="middle-section">
		<!-- Tab content -->
		<div id="tab0" class="tabcontent currentTab">
		  <h3 class="main-tab-heading">Main Tab</h3>
		  <div class="popup quote-widget" id="main-tab-quote-widget">
		    <div class="popup-header">Draggable and Resizable Widget: Quote</div>
		    <p>A stock quote is the price of a stock as quoted on an exchange. A basic quote for a specific stock provides information, such as its bid and ask price, last traded price, and volume traded.</p>
		    <div class="popup-footer"><button onclick="closeWidget('main-tab-quote-widget')">Close Widget &times;</button></div>
		  </div>

		  <div class="popup order-widget" id="main-tab-order-widget">
		    <div class="popup-header noselect">Draggable and Resizable Widget: Order</div>
		    <p>An order is an instruction that an investor gives to buy or sell stocks on a trading platform or to a stock broker.</p>
		    <div class="popup-footer"><button onclick="closeWidget('main-tab-order-widget')">Close Widget &times;</button></div>
		  </div>
		  <div class="popup chart-widget" id="main-tab-chart-widget">
		    <div class="popup-header noselect">Draggable and Resizable Widget: Chart</div>
		    <p>A graphical representation of price and volume movements of a stock over a certain period of time.</p>
		    <div class="popup-footer"><button onclick="closeWidget('main-tab-chart-widget')">Close Widget &times;</button></div>
		  </div>
		  <div class="popup position-widget" id="main-tab-position-widget">
		    <div class="popup-header noselect">Draggable and Resizable Widget: Position</div>
		    <p>A position is the amount of a security, asset, or property that is owned (or sold short) by some individual or other entity.</p>
		    <div class="popup-footer"><button onclick="closeWidget('main-tab-position-widget')">Close Widget &times;</button></div>
		  </div>
		</div>
		

	</section>
	<footer>
		<div id="tab">
		  <button class="tablinks active" id="btnId0" onclick="openTab(this.id, 'tab0')">Tab 1
		  	<!-- <em class="tab-close">&times;</em> -->
		  </button>
		</div>
		<div id="button-tab">
			<button class="plus-image" onclick="addNewTab()" title="Click to add new tab"><img class="fas" src="./images/1970474.png" alt=""></button>
		</div>	

	</footer>

	<script type="text/javascript">
		//  Draggable Widgets

		window.onload = function() {
		  initDragElement();
		  initResizeElement();
		};

		function initDragElement() {
		  console.log("Dragging");
		  var pos1 = 0,
		    pos2 = 0,
		    pos3 = 0,
		    pos4 = 0;
		  var popups = document.getElementsByClassName("popup");
		  var elmnt = null;
		  var currentZIndex = 100; 
		  for (var i = 0; i < popups.length; i++) {
		    var popup = popups[i];
		    var header = getHeader(popup);

		    popup.onmousedown = function() {
		      this.style.zIndex = "" + ++currentZIndex;
		    };

		    if (header) {
		      header.parentPopup = popup;
		      header.onmousedown = dragMouseDown;
		    }
		  }

		  function dragMouseDown(e) {
		    

		    elmnt = this.parentPopup;
		    elmnt.style.zIndex = "" + ++currentZIndex;

		    e = e || window.event;
		    // get the mouse cursor position at startup:
		    pos3 = e.clientX;
		    pos4 = e.clientY;
		    document.onmouseup = closeDragElement;
		    // call a function whenever the cursor moves:
		    document.onmousemove = elementDrag;
		  }

		  function elementDrag(e) {
		  	console.log("This is a header");
		    if (!elmnt) {
		      return;
		    }

		    e = e || window.event;
		    // calculate the new cursor position:
		    pos1 = pos3 - e.clientX;
		    pos2 = pos4 - e.clientY;
		    pos3 = e.clientX;
		    pos4 = e.clientY;
		    // set the element's new position:
		    elmnt.style.top = elmnt.offsetTop - pos2 + "px";
		    elmnt.style.left = elmnt.offsetLeft - pos1 + "px";
		  }

		  function closeDragElement() {
		    /* stop moving when mouse button is released:*/
		    document.onmouseup = null;
		    document.onmousemove = null;
		  }

		  function getHeader(element) {
		    var headerItems = element.getElementsByClassName("popup-header");

		    if (headerItems.length == 1) {
		      return headerItems[0];
		    }

		    return null;
		  }
		}

		function initResizeElement() {
			console.log("Resizing");
		  var popups = document.getElementsByClassName("popup");
		  var element = null;
		  var startX, startY, startWidth, startHeight;

		  for (var i = 0; i < popups.length; i++) {
		    var p = popups[i];

		    var right = document.createElement("div");
		    right.className = "resizer-right";
		    p.appendChild(right);
		    right.addEventListener("mousedown", initDrag, false);
		    right.parentPopup = p;

		    var bottom = document.createElement("div");
		    bottom.className = "resizer-bottom";
		    p.appendChild(bottom);
		    bottom.addEventListener("mousedown", initDrag, false);
		    bottom.parentPopup = p;

		    var both = document.createElement("div");
		    both.className = "resizer-both";
		    p.appendChild(both);
		    both.addEventListener("mousedown", initDrag, false);
		    both.parentPopup = p;
		  }

		  function initDrag(e) {
		    element = this.parentPopup;

		    startX = e.clientX;
		    startY = e.clientY;
		    startWidth = parseInt(
		      document.defaultView.getComputedStyle(element).width,
		      10
		    );
		    startHeight = parseInt(
		      document.defaultView.getComputedStyle(element).height,
		      10
		    );
		    document.documentElement.addEventListener("mousemove", doDrag, false);
		    document.documentElement.addEventListener("mouseup", stopDrag, false);
		  }

		  function doDrag(e) {
		  	console.log("resizing");
		    element.style.width = startWidth + e.clientX - startX + "px";
		    element.style.height = startHeight + e.clientY - startY + "px";
		  }

		  function stopDrag() {
		    document.documentElement.removeEventListener("mousemove", doDrag, false);
		    document.documentElement.removeEventListener("mouseup", stopDrag, false);
		  }
		}
	</script>
</body>
</html>